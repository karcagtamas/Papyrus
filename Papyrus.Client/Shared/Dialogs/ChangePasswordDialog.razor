@using Papyrus.Shared.Models
@using Services.Interfaces

<EditorDialog Model="UserPasswordModel" ModelObj="Model" EntityName="Password" IsEdit="true" Submit="Submit" Title="Change Password">
    <MudTextField T="string" Label="Old Password" Variant="Variant.Text" InputType="InputType.Password"
                  Required="true" For="@(() => Model.OldPassword)" @bind-Value="Model.OldPassword" FullWidth="true">
    </MudTextField>
    <MudTextField T="string" Label="New Password" Variant="Variant.Text" InputType="InputType.Password"
                  Required="true" For="@(() => Model.NewPassword)" @bind-Value="Model.NewPassword" FullWidth="true">
    </MudTextField>
</EditorDialog>

@code {
    [Inject] private IUserService UserService { get; set; } = null!;

    private UserPasswordModel Model { get; set; } = new()
        {
            NewPassword = "",
            OldPassword = ""
        };

    private async Task<bool> Submit() => await UserService.UpdatePassword(Model);
}