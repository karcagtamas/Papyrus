@using KarcagS.Shared.Helpers
@using Papyrus.Shared.DTOs.Notes

<MudChip Label="true" Style="@Style" OnClose="OnClose">
    @if (ObjectHelper.IsNotNull(Tag))
    {
        @if (string.IsNullOrEmpty(HighlightedText))
        {
            @Tag.Caption
        }
        else
        {
            <MudHighlighter Text="@Tag.Caption" HighlightedText="@HighlightedText" CaseSensitive="false" Style="padding: unset;" />
        }
    }
</MudChip>

@code {
    [Parameter, EditorRequired]
    public NoteTagDTO Tag { get; set; } = default!;

    [Parameter]
    public EventCallback OnClose { get; set; }

    [Parameter]
    public string? HighlightedText { get; set; }

    public string Style { get => ObjectHelper.IsNotNull(Tag) ? $"background-color: {Tag.Color}; height: 1.6rem; color: {ColorHelper.GetForegroundColor(Tag.Color)}" : string.Empty; }
}
