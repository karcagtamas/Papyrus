@page "/my"
@attribute [Authorize]

<ApplicationPageTitle PageName="My User"></ApplicationPageTitle>

<div class="page-div">

    @if (User is not null)
    {
        <ActionBar>
            <MudButton Color="Color.Secondary" Variant="Variant.Filled" OnClick="Edit">Edit</MudButton>
            <MudButton Color="Color.Secondary" Variant="Variant.Filled" OnClick="ChangeImage">Change Image</MudButton>
            <MudButton Color="Color.Warning" Variant="Variant.Filled" OnClick="ChangePassword">Change Password</MudButton>
        </ActionBar>
        <div class="page-body">
            <div>
                <MudCard Elevation="2" Class="p-2 mr-3">
                    <DataRow Title="User Name" Value="@User.UserName" />
                    <DataRow Title="E-mail Address" Value="@User.Email" />
                    <DataRow Title="Full Name" Value="@User.FullName" />
                    <DateDataRow Title="Last Login" Date="User.LastLogin" />
                    <DateDataRow Title="Registration" Date="User.Registration" />
                    <DateDataRow Title="Birthday" Date="User.BirthDay" />
                </MudCard>
            </div>
            @if (User.ImageData is not null && User.ImageData.Length != 0 && Image is not null)
            {
                <div class="p-2 text-center profile-pic" style="border-color: @PapyrusTheme.AppTheme.ColorPalette.MainColorValue">
                    <img src="@Image" alt="@User.ImageTitle" />
                </div>
            }
        </div>
    }
</div>